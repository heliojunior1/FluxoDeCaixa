{% extends 'base.html' %}
{% block content %}
<div class="flex items-center mb-6">
    <a href="{{ url_for('index') }}" class="text-gray-500 hover:text-gray-700">
        <i data-lucide="arrow-left-circle" class="w-8 h-8"></i>
    </a>
    <h2 class="text-xl font-semibold text-gray-700 ml-4">Conferência</h2>
</div>
<table class="min-w-full bg-white border">
    <thead class="bg-gray-100">
        <tr>
            <th class="border px-2 py-1">Data</th>
            <th class="border px-2 py-1">Saldo Anterior</th>
            <th class="border px-2 py-1">Liberações</th>
            <th class="border px-2 py-1">Conf. Liberações</th>
            <th class="border px-2 py-1">S. Ant + Lib.</th>
            <th class="border px-2 py-1">Pagamentos</th>
            <th class="border px-2 py-1">Conf. Pagamentos</th>
            <th class="border px-2 py-1">Saldo Final</th>
        </tr>
    </thead>
    <tbody>
    {% for r in registros %}
        <tr {% if r.val_liberacoes != r.val_conf_liberacoes or r.val_pagamentos != r.val_conf_pagamentos %}class="bg-red-100"{% endif %}>
            <td class="border px-2 py-1">{{ r.dat_conferencia }}</td>
            <td class="border px-2 py-1 text-right">{{ '%.2f'|format(r.val_saldo_anterior) }}</td>
            <td class="border px-2 py-1 text-right">{{ '%.2f'|format(r.val_liberacoes) }}</td>
            <td class="border px-2 py-1 text-right">{{ '%.2f'|format(r.val_conf_liberacoes) }}</td>
            <td class="border px-2 py-1 text-right">{{ '%.2f'|format(r.val_soma_anter_liberacoes) }}</td>
            <td class="border px-2 py-1 text-right">{{ '%.2f'|format(r.val_pagamentos) }}</td>
            <td class="border px-2 py-1 text-right">{{ '%.2f'|format(r.val_conf_pagamentos) }}</td>
            <td class="border px-2 py-1 text-right">{{ '%.2f'|format(r.val_saldo_final) }}</td>
        </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}
